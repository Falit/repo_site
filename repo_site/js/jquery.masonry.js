(function(c,a,f){var g=a.event,e=a.event.handle?"handle":"dispatch",b;g.special.smartresize={setup:function(){a(this).bind("resize",g.special.smartresize.handler)},teardown:function(){a(this).unbind("resize",g.special.smartresize.handler)},handler:function(i,h){var j=this,k=arguments;i.type="smartresize";if(b){clearTimeout(b)}b=setTimeout(function(){g[e].apply(j,k)},h==="execAsap"?0:100)}};a.fn.smartresize=function(h){return h?this.bind("smartresize",h):this.trigger("smartresize",["execAsap"])};a.Mason=function(h,i){this.element=a(i);this._create(h);this._init()};a.Mason.settings={isResizable:true,isAnimated:false,animationOptions:{queue:false,duration:500},gutterWidth:0,isRTL:false,isFitWidth:false,containerStyle:{position:"relative"}};a.Mason.prototype={_filterFindBricks:function(i){var h=this.options.itemSelector;return !h?i:i.filter(h).add(i.find(h))},_getBricks:function(i){var h=this._filterFindBricks(i).css({position:"absolute"}).addClass("masonry-brick");return h},_create:function(i){this.options=a.extend(true,{},a.Mason.settings,i);this.styleQueue=[];var l=this.element[0].style;this.originalStyle={height:l.height||""};var k=this.options.containerStyle;for(var m in k){this.originalStyle[m]=l[m]||""}this.element.css(k);this.horizontalDirection=this.options.isRTL?"right":"left";var j=this.element.css("padding-"+this.horizontalDirection);var n=this.element.css("padding-top");this.offset={x:j?parseInt(j,10):0,y:n?parseInt(n,10):0};this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth==="function";var h=this;setTimeout(function(){h.element.addClass("masonry")},0);if(this.options.isResizable){a(c).bind("smartresize.masonry",function(){h.resize()})}this.reloadItems()},_init:function(h){this._getColumns();this._reLayout(h)},option:function(i,h){if(a.isPlainObject(i)){this.options=a.extend(true,this.options,i)}},layout:function(h,l){for(var m=0,q=h.length;m<q;m++){this._placeBrick(h[m])}var j={};j.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var k=0;m=this.cols;while(--m){if(this.colYs[m]!==0){break}k++}j.width=(this.cols-k)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:j});var n=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css"),p=this.options.animationOptions;var o;for(m=0,q=this.styleQueue.length;m<q;m++){o=this.styleQueue[m];o.$el[n](o.style,p)}this.styleQueue=[];if(l){l.call(h)}this.isLaidOut=true},_getColumns:function(){var i=this.options.isFitWidth?this.element.parent():this.element,h=i.width();this.columnWidth=this.isFluid?this.options.columnWidth(h):this.options.columnWidth||this.$bricks.outerWidth(true)||h;this.columnWidth+=this.options.gutterWidth;this.cols=Math.floor((h+this.options.gutterWidth)/this.columnWidth);this.cols=Math.max(this.cols,1)},_placeBrick:function(h){var n=a(h),o,t,q,w,s;o=Math.ceil(n.outerWidth(true)/this.columnWidth);o=Math.min(o,this.cols);if(o===1){q=this.colYs}else{t=this.cols+1-o;q=[];for(s=0;s<t;s++){w=this.colYs.slice(s,s+o);q[s]=Math.max.apply(Math,w)}}var l=Math.min.apply(Math,q),m=0;for(var u=0,r=q.length;u<r;u++){if(q[u]===l){m=u;break}}var k={top:l+this.offset.y};k[this.horizontalDirection]=this.columnWidth*m+this.offset.x;this.styleQueue.push({$el:n,style:k});var v=l+n.outerHeight(true),p=this.cols+1-r;for(u=0;u<p;u++){this.colYs[m+u]=v}},resize:function(){var h=this.cols;this._getColumns();if(this.isFluid||this.cols!==h){this._reLayout()}},_reLayout:function(j){var h=this.cols;this.colYs=[];while(h--){this.colYs.push(0)}this.layout(this.$bricks,j)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(h){this.reloadItems();this._init(h)},appended:function(i,j,k){if(j){this._filterFindBricks(i).css({top:this.element.height()});var h=this;setTimeout(function(){h._appended(i,k)},1)}else{this._appended(i,k)}},_appended:function(i,j){var h=this._getBricks(i);this.$bricks=this.$bricks.add(h);this.layout(h,j)},remove:function(h){this.$bricks=this.$bricks.not(h);h.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="";this.style.top="";this.style.left=""});var i=this.element[0].style;for(var h in this.originalStyle){i[h]=this.originalStyle[h]}this.element.unbind(".masonry").removeClass("masonry").removeData("masonry");a(c).unbind(".masonry")}};
/*
   * jQuery imagesLoaded plugin v1.1.0
   * http://github.com/desandro/imagesloaded
   *
   * MIT License. by Paul Irish et al.
   */
a.fn.imagesLoaded=function(l){var k=this,m=k.find("img").add(k.filter("img")),i=m.length,j="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",h=[];function n(){l.call(k,m)}function o(p){var q=p.target;if(q.src!==j&&a.inArray(q,h)===-1){h.push(q);if(--i<=0){setTimeout(n);m.unbind(".imagesLoaded",o)}}}if(!i){n()}m.bind("load.imagesLoaded error.imagesLoaded",o).each(function(){var p=this.src;this.src=j;this.src=p});return k};var d=function(h){if(c.console){c.console.error(h)}};a.fn.masonry=function(i){if(typeof i==="string"){var h=Array.prototype.slice.call(arguments,1);this.each(function(){var j=a.data(this,"masonry");if(!j){d("cannot call methods on masonry prior to initialization; attempted to call method '"+i+"'");return}if(!a.isFunction(j[i])||i.charAt(0)==="_"){d("no such method '"+i+"' for masonry instance");return}j[i].apply(j,h)})}else{this.each(function(){var j=a.data(this,"masonry");if(j){j.option(i||{});j._init()}else{a.data(this,"masonry",new a.Mason(i,this))}})}return this}})(window,jQuery);